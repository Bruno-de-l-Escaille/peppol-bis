
= Release notes for openPEPPOL Validation Artifact v3.4.0_RC1, Spring Release 2017
openPEPPOL AISBL <http://www.peppol.eu/>
2017-02-28
:icons: font
:source-highlighter: coderay
:sourcedir: .
:imagesdir: ./images
:title-logo-image: ./images/peppol.png

This release from openPEPPOL includes changes to the validation artifacts (VA's) and changes to the Common BIS document. This version will be *mandatory in use from xx. xxxxxxx 2017 xx:00 CEST.*


.Overview of changes
****
. Several validation rules have been optimized according to incoming RFCs
. Core XSLT files have been placed in a new folder XSLTCore
. Updates BIS 4a and BIS 5a
****

****
[IMPORTANT]
====
Core rules should only be considered a help to implementors creating a PEPPOL BIS, making sure that documents are PEPPOL Core conformant.
The core rules should not be used in run time enviroments.

Planned date for the spring release is 15. May 2017
====
****

//

== Changes to Validation Artifacts (VA)


.Changes pr. transaction
[cols="3", options="header"]
|====
|Transaction|Rule|Description
| All
| Schematron artefacts 
| Added `<ns prefix="xs" uri="http://www.w3.org/2001/XMLSchema"/>` to the root schematron artefact
.7+s|Invoice
| BII2-T10-R034 
| Fix to fire the negative prices only when the price is present.
| BII2-T10-R049
|Fix to allow for multiple occurrencies of the Reverse Charge tax ("AE") when specifying the breakdown of the taxes
| BII2-T10-R050
|Fix to allow for multiple occurrencies of the Reverse Charge tax ("AE") with tax amount equal zero
| BII2-T10-R056
| Corrected validation rule, apply prepaid amount to calculate payable amount
| EUGEN-T10-R041
| Allow for multiple Party Tax Schemes to allow for customizations extending this element without breakin 
| EUGEN-T10-R053
| Check the existance of the Invoice Type Code
| EUGEN-T10-R054 
| Added rule warning for company identifier without scheme identifier

.6+s|Credit note
| BII2-T14-R034 
| Fix to fire the negative prices only when the price is present.
| BII2-T14-R049
|Fix to allow for multiple occurrencies of the Reverse Charge tax ("AE") when specifying the breakdown of the taxes
| BII2-T14-R050
|Fix to allow for multiple occurrencies of the Reverse Charge tax ("AE") with tax amount equal zero
| BII2-T14-R056
| Corrected validation rule, apply prepaid amount to calculate payable amount
| EUGEN-T14-R041
| Allow for multiple Party Tax Schemes to allow for customizations extending this element without breakin 
| EUGEN-T14-R054 
| Added rule warning for company identifier without scheme identifier

.1+s|Order
| OP-T01-R009 
| Add 'ZZ' code in UNEceRec20 code list.
|====

== Editorial changes

=== BIS 4a – 401

New relase 4.01 adds references to the following business rules

[cols="2", options="header"]
|====
|Rule ID|Description
|EUGEN-T10-R047
|An invoice should not contain empty elements
|EUGEN-T10-R048
|Document level amounts cannot have more than 2 decimals
|EUGEN-T10-R049
|Total tax amount cannot have more than 2 decimals.
|EUGEN-T10-R050
|Tax subtotal amounts cannot have more than 2 decimals.
|EUGEN-T10-R051
|Document level tax subtotal amounts cannot have more than 2 decimals
|EUGEN-T10-R052
|Document level allowance and charge amounts cannot have more than 2 decimals
|EUGEN-T10-R053
|An invoice must have an Invoice type code
|EUGEN-T10-R054
|A party legal entity company identifier SHOULD have a scheme identifier attribute.
|====


=== BIS 5a – 402

New relase 4.02 adds references to the following business rules

[cols="2", options="header"]
|====
|Rule ID|Description
|EUGEN-T14-R048
|An invoice should not contain empty elements
|EUGEN-T14-R049
|Document level amounts cannot have more than 2 decimals
|EUGEN-T14-R050
|Total tax amount cannot have more than 2 decimals.
|EUGEN-T14-R051
|Tax subtotal amounts cannot have more than 2 decimals.
|EUGEN-T14-R052
|Document level amounts cannot have more than 2 decimals
|EUGEN-T14-R053
|Document level allowance and charge amounts cannot have more than 2 decimals
|EUGEN-T14-R054
|A party legal entity company identifier SHOULD have a scheme identifier attribute.
|====
